<test>
  <title>:nth-of-type() pseudo-class with hidden elements</title>
  <style type="text/css">
  line { display: block; }
  [type~=odd] { background: red; }
  line:nth-of-type(odd) { background: lime; }
  [hidden] { display: none; }
</style>
  <div class="testText">
 <test xmlns="http://www.example.org/">
  <line type="odd" background="lime" display="block">This line should be green.</line>
  <line type="even" display="block">This line should be unstyled.</line>
  <line type="odd" hidden="hidden" background="lime" display="none">This line should be green.</line>
  <line type="even" display="block">This line should be unstyled.</line>
  <line type="odd" background="lime" display="block">This line should be green.</line>
  <line type="even" display="block">This line should be unstyled.</line>
  <line type="odd" background="lime" display="block">This line should be green.</line>
  <line type="even" hidden="hidden" display="none">This line should be unstyled.</line>
  <line type="odd" background="lime" display="block">This line should be green.</line>
  <line type="even" display="block">This line should be unstyled.</line>
  <line type="odd" background="lime" display="block">This line should be green.</line>
  <line type="even" hidden="hidden" display="none">This line should be unstyled.</line>
  <line type="odd" hidden="hidden" background="lime" display="none">This line should be green.</line>
  <line type="even" display="block">This line should be unstyled.</line>
  <line type="odd" background="lime" display="block">This line should be green.</line>
 </test> 
</div>
</test>